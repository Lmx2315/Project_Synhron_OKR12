#ifndef __PORTE_c__
#define __PORTE_c__

#include "opora.h"
#include "PORTE.h"

//--- Ports configuration ---
void PORTEConfig()
{
// 
	PORTE->FUNC = 0x00000000;	// Указание режима работы порта. По 2 бита на каждый вывод. 00 - порт. 01 - основная функция. 10 - альтернативная функция. 11 - переопределённая функция.
//   Таблица 1 - Назначение выводов порта PORTD в цифровом режиме в зависимости от значения регистра PORTD->FUNC.
// ╔═══════════════════╦════════╦════════╦════════╦═══════╦════════╦════════╦════════╦════════╦════════╦════════╦════════╦════════╦════════╦════════╦════════╦═══════╗
// ║  Режим  \  Вывод  ║  PE15  ║  PE14  ║  PE13  ║ PE12  ║  PE11  ║  PE10  ║   PE9  ║  PE8   ║  PE7   ║  PE6   ║  PE5   ║  PE4   ║  PE3   ║  PE2   ║  PE1   ║  PE0  ║
// ╠═══════════════════╬════════╬════════╬════════╬═══════╬════════╬════════╬════════╬════════╬════════╬════════╬════════╬════════╬════════╬════════╬════════╬═══════╣
// ║ 00 (порт)         ║  -|-   ║  -|-   ║  -|-   ║  -|-  ║  -|-   ║  -|-   ║  -|-   ║   -|-  ║  -|-   ║  -|-   ║  -|-   ║  -|-   ║  -|-   ║  -|-   ║  -|-   ║  -|-  ║
// ╟───────────────────╫────────╫────────╫────────╫───────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫───────╢
// ║ 01 (осн. ф-я)     ║PRD_PRMD║CAN_TX2 ║CAN_RX2 ║CAN_TX1║CAN_RX1 ║TMR2_CH4║TMR2_CH3║TMR2_CH2║TMR2_CH1║TMR1_CH4║TMR1_CH3║TMR1_CH2║TMR1_CH1║ OUT4-  ║ OUT3-  ║ OUT4+ ║
// ╟───────────────────╫────────╫────────╫────────╫───────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫───────╢
// ║ 10 (альт. ф-я)		 ║  A29   ║  A28   ║  A27   ║  A26  ║  A25   ║   A24  ║   A23  ║  A22   ║  A21   ║  A20   ║  A19   ║  A18   ║  A17   ║  A16   ║  A15   ║  A14	 ║
// ╟───────────────────╫────────╫────────╫────────╫───────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫────────╫───────╢
// ║ 11 (переопр. ф-я) ║  RXDV  ║ RXCLK  ║ TXCLK  ║ TXER  ║  TXEN  ║ RXD[3] ║ RXD[2] ║ RXD[1] ║ RXD[0] ║ TXD[3] ║ TXD[2] ║ TXD[1] ║ TXD[0] ║  MDIO  ║nUART2RI║  MDC  ║
// ╚═══════════════════╩════════╩════════╩════════╩═══════╩════════╩════════╩════════╩════════╩════════╩════════╩════════╩════════╩════════╩════════╩════════╩═══════╝
	PORTE->ANALOG=0xFFFF;			// Аналоговый/цифровой режим работы порта. 0 - аналоговый. 1 - цифровой.
	
// ╔═══════════════════╦════════╦════════╦════════╦═══════╦════════╦════════╦════════╦════════╦══════════╦════════╦════════╦════════╦════════╦════════╦════════╦═══════╗
// ║  Режим  \  Вывод  ║  PE15  ║  PE14  ║  PE13  ║ PE12  ║  PE11  ║  PE10  ║   PE9  ║  PE8   ║   PE7    ║  PE6   ║  PE5   ║  PE4   ║  PE3   ║  PE2   ║  PE1   ║  PE0  ║
// ╠═══════════════════╬════════╬════════╬════════╬═══════╬════════╬════════╬════════╬════════╬══════════╬════════╬════════╬════════╬════════╬════════╬════════╬═══════╣	
// ║ 0 (аналоговый)    ║   нет  ║  нет   ║  нет   ║  нет  ║  нет   ║  нет   ║  нет   ║  нет   ║OUSC_OUT32║OSC_IN32║  нет   ║  нет   ║  нет   ║  DAC1  ║  DAC0  ║ REFD1 ║
// ╟───────────────────╫────────╫────────╫────────╫───────╫────────╫────────╫────────╫────────╫──────────╫────────╫────────╫────────╫────────╫────────╫────────╫───────╢	
// ║ 1 (цифровой)      ║                                                    см. регистр PORTD->FUNC                                                                    ║
// ╚═══════════════════╩════════╩════════╩════════╩═══════╩════════╩════════╩════════╩════════╩══════════╩════════╩════════╩════════╩════════╩════════╩════════╩═══════╝


	PORTE->RXTX=0;						// Данные порта.
	PORTE->OE =0x0000;
	PORTE->OE|=0x2;				// Направление порта. 1 - выход, 0 - вход.
	PORTE->PWR|=0xFFFFFFFF;		// Скорость изменения фронта выходного сигнала порта. 2 бита на вывод. 11 - максимально быстрый, 10 - быстрый, 01 - медленный, 00 - зарезервировано.
//	PORTE->PD->PORTSHM = 			// Режим работы входа:  0 - триггер Шмитта выключен, гистерезис 200 мВ. 1 - триггер Шмитта включен, гистерезис 400 мВ.
//	PORTE->PD->PORTPD = 			// Режим работы выхода: 0 - управляемый драйвер, 1 - открытый сток.
}


#endif // __PORTE_c__
